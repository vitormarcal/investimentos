<!DOCTYPE html>
<html lang="en">
<head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>

<main id="app">

    <div class="new-ted">
        <h2>Novo ted</h2>
        <label>
            Valor:
            <input type="text" v-model="newTedValue">
            <button @click="addNewTed">Add</button>
        </label>
    </div>

    <div class="new-ticker">
        <h2>Novo ticket</h2>
        <label>
            Market:
            <input type="text" v-model="market">
        </label>
        <label>
            Ticker:
            <input type="text" v-model="ticker">
        </label>
        <label>
            Valor:
            <input type="number" v-model="price">
        </label>
        <label>
            Quantidade:
            <input type="number" v-model="unit">
        </label>

        <label>
            Side:
            <input type="text" v-model="side">
        </label>

        <button @click="add">Add</button>
    </div>

    <h2>carteira atual</h2>
    <p> Valor reservado para investimento: {{ amountBooked }} </p>
    <p> Valor investido : {{ investedValue }} </p>
    <p> Diferença reservado - investido : {{ diff }} </p>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th scope="col">Ticket</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Preço da unidade agora</th>
            <th scope="col">Valor para liquidar</th>
            <th scope="col">Valor investido</th>
            <th scope="col">Preço unitário médio</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="a in tickerPrices">
            <td>{{a.market}}:{{a.ticker}}</td>
            <td>{{a.unit}}</td>
            <td>{{a.lastPrice}}</td>
            <td>{{a.sellPrice}}</td>
            <td>{{a.price}}</td>
            <td>{{a.averagePrice}}</td>
        </tr>
        </tbody>
    </table>

    <h2>Todos os trades</h2>
    <table>
        <thead>
        <tr>
            <th>market</th>
            <th>ticker</th>
            <th>price</th>
            <th>unit</th>
            <th>side</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="t in trades">
            <td>{{t.market}}</td>
            <td>{{t.ticker}}</td>
            <td>{{t.price}}</td>
            <td>{{t.unit}}</td>
            <td>{{t.side}}</td>
        </tr>
        </tbody>
    </table>

</main>

<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="carteira.service.js"></script>
<script src="carteira.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>
</html>